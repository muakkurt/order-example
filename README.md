# Quiz

Ports used in the project:
| Software | Port |
|-------------- | -------------- |
| **nginx** | 8080 |
| **phpmyadmin** | 8085 |
| **mysql** | 3306 |
| **php** | 9000 |

## Installation

1. Clone this project:

   ```sh
   git clone https://github.com/muakkurt/order-example
   ```

2. Inside the folder `quiz` and Generate your own `.env` to docker compose with the next command:

   ```sh
   cp .env.example .env
   cp source/.env.example source/.env
   ```

3. Build the project whit the next commands:

   ```sh
   docker-compose up --build
   ```

4. Update Composer:
   ```sh
   docker-compose run --rm composer update
   ```

5. Run all migrations:

   ```sh
   docker-compose run --rm artisan migrate:fresh --seed
   ```

---

API Documentation: http://localhost:8080/api-docs
generated by rakutentech/laravel-request-docs plugin

---
## Usage

### List orders
```
GET /api/orders HTTP/1.1
Host: localhost:8080
```

### Create an order
````json
POST /api/orders HTTP/1.1
Host: localhost:8080
Content-Type: application/json
Content-Length: 242

{
  "customer_id": 1,
  "products": [
    {
      "id": 100,
      "quantity": 1
    },
    {
      "id": 101,
      "quantity": 2
    },
    {
      "id": 102,
      "quantity": 5
    },
    {
      "id": 103,
      "quantity": 6
    }
  ]
}
````

### Delete an order 
````
DELETE /api/orders/{orderId} HTTP/1.1
Host: localhost:8080
````

### List discounts of order
```
GET /api/orders/{orderId}/discounts HTTP/1.1
Host: localhost:8080
```
